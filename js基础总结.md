### javescript简介：

> 一个完整的JavaScript应该由下列三个部分组成：
>
> - 核心（ECMAScript）
> - 文档对象模型（DOM）
> - 浏览器对象模型（BOM）

#### ECMAScript：

> 它规定了下列组成部分
>
> - 语法
> - 类型
> - 语句
> - 关键字
> - 保留字
> - 操作符
> - 对象

#### 文档对象类型：

> 它是针对XML但经过扩展用于HTML的应用程序编程接口。DOM把整个页面映射为一个多层次节点解构。

- dom1:主要是映射文档的结构；

- dom2: 在原先的基础上扩充了鼠标和用户界面事件、范围、遍历等细分模块，而且通过对象接口增加了对css的支持。

  > dom2y引入了下列新模块：

  - DOM视图
  - DOM事件
  - DOM样式
  - DOM遍历和范围

- dom3:进一步扩展了dom,引入了以统一方式加载和保存文档的方法—在dom加载和保存模块中定义；新增了验证文档的方法-在dom验证模块中定义。同时它也对dom核心进行了扩展，开始支持XML1.0规范，设计XML、Infoset、XPath和XML Base。

### 浏览器对象模型：

> 从根本上来讲，BOM只处理浏览器窗口和框架，但人们也习惯把所有针对浏览器的JavaScript算作BOM的一部分。

### 小结：

> javascript是一种专为与网页交互与页面设计的脚本语言，它由三部分组成：
>
> - ECMAScript， 由ECMA-262定义，提供核心语言功能；
> - 文档对象模型，提供访问和操作网页内容的方法和接口；
> - 浏览器对象模型，提供与浏览器交互的方法和接口。

## 在HTML中使用JavaScript：

### 延迟脚本：

> defer属性：脚本会被延迟到整个页面都解析完毕后再运行，也就相当于告诉浏览器立即下载，但延迟执行。
>
> async属性：同defer属性作用一样，不同的地方在于标记为async的脚本并不保证按照指定它们的先后顺序执行。因此保证脚本文件互不依赖很重要。

### XHTML：

> 可扩展的超文本标记语言。编写XHTML代码的规则比HTML严格的多。避免在XHTML中出现语法错误的方法有两个：

- 用相应的HTML实体（\&lt;）替换代码中所有的小于号（<）;

- 用一个CData片段来包含JavaScript代码。在XHTML中，CData片段是文档中的一个特殊区域，这个区域中可以包含不需要解析的任意格式的文本内容。

  ```js
  <script type="text/javascript"><![CDAEA[
      
  ]]></script>
  ```

- 在不兼容XHTML的浏览器中，不支持CData片段，使用JavaScript注释将CData标记注释掉就可以了：

  ```js
  <script type="text/javascript">
  //<![CDAEA[
      
  //]]>
  </script>
  ```

- 在将页面的MIME类型指定为“application/xhtml+xml"情况下会触发XHTML模式。

## 基本概念：

### 知识点：

```js
1. null和undefined没有toString()方法；
2. 调用toString() 方法不需要传递参数，但是在调用数值时可以传递一个参数，输出数值的基数。默认情况下以十进制格式返回数值的字符串。
3. 以0开头的一般是八进制，以0x开头的一般是十六进制。
4. null和undefined可以调用String()方法返回字符串"null" 和 "nudefined".
5. ECMAScript中的对象其实就是一组数据和功能的集合。
```

### object类型：

> object的每个实例都具有下列属性和方法；由于在ECMAScript中object是所有对象的基础，因此所有的对象都具有这些基本的属性和方法。 

- contructor: 保存用于创建当前对象的函数。
- hasOwnProperty(propertyName): 用于检查给定的属性在当前对象实例中（而不是在实例的原型中）是否存在。其中作为参数的属性名(propertyName)必须以字符串形式指定。
- isPrototypeOf(obj): 用于检查传入的对象是否是传入对象的原型。
- propertyIsEnumerable(propertyName): 用于检查给定的属性是否能够使用for-in语句来枚举。其中作为参数的属性名(propertyName)必须以字符串形式指定。
- toLocaleString():返回对象的字符串表示，该字符串与执行环境的地区相对应。
- toString(): 返回对象的字符串表示；
- valueOf(): 返回对象的字符串、数值或布尔值表示。

## 数据类型小结：

```js
javaScript变量可以用老保存两种类型的值： 基本数据类型和引用数据类型。基本数据类型包括以下五种： null undefined number string Boolean.基本数据类型和引用数据类型具有以下特点：
1. 基本数据类型在内存中占据固定大小的空间，因此会保存在栈内存中；
2. 从一个变量向另一个变量复制基本数据类型的值，会创建这个值的一个副本；
3. 引用数据类型的值是对象，会保存在堆中；
4. 包含引用类型值的变量实际上包含的并不是对象本身，而是一个指向该对象的指针；
5. 从一个变量向另一个变量复制引用类型的值，复制的其实是指针，因此两个变量都指向同一个对象；
6. 确定一个值是那种基本类型可以使用typeof操作符，而确定一个值是那种引用类型可以使用instanceof操作符。
7. 所有变量（包括基本数据类型和引用类型）都存在于一个执行环境（也称为作用域）当中，这个执行环境决定了变量的圣生命周期，以及哪一部分代码可以访问其中的变量。
8. 执行环境有全局执行环境（也称为全局环境）和函数执行环境之分；
9. 每次进入一个执行环境，都会创建一个用于搜索变量和函数的作用域链；
10. 函数的局部环境不仅有权访问函数作用域中的变量，而且有权访问其包含（父）环境，乃至全局环境；
11. 全局环境只能访问在全局环境中定义的变量和函数，而不能访问局部环境中的任何数值；
12. 变量的执行环境有助于确定应该何时释放内存；
js是一门具有自动垃圾收集机制的编程语言；开发人员不必关心内存分配和回收问题，可对js的垃圾收集作以下总结：
1. 离开作用域的值将会自动标记为可以回收，因此将在垃圾收集期间被删除；
2. “标记清除”是目前主流的垃圾收集算法，这种算法的思想是给当前不使用的值加上标记后再回收其内存；
3. 另一种垃圾收集算法是“引用计数”，这种算法的思想是跟踪记录所有值被引用的次数，js引擎目前都不再使用这种算法，但在ie中访问非原声生的js对象（如dom元素时），这种算法仍然可能会导致问题。
4. 当代码中存在循环引用对象的时候，“引用计数”算法就会导致问题；
5. 解除变量的引用不仅有助于消除循环引用现象，而且对垃圾收集也有好处。
```

